/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright Â© 2024 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */
"use client";"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const W=require("react"),r=require("prop-types"),D=require("./PagerNumericButtons.js"),F=require("./PagerInput.js"),$=require("./PagerPageSizes.js"),V=require("@progress/kendo-react-buttons"),e=require("../messages/index.js"),M=require("@progress/kendo-react-intl"),P=require("@progress/kendo-react-common"),l=require("@progress/kendo-svg-icons"),U=require("../package-metadata.js");function G(u){const n=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(u){for(const a in u)if(a!=="default"){const t=Object.getOwnPropertyDescriptor(u,a);Object.defineProperty(n,a,t.get?t:{enumerable:!0,get:()=>u[a]})}}return n.default=u,Object.freeze(n)}const p=G(W),q=600,H=768,v=class v extends p.Component{constructor(n){super(n),this._element=null,this.onPageChange=(a,t)=>{const c={target:this,syntheticEvent:t.syntheticEvent,nativeEvent:t.nativeEvent,targetEvent:t,...a};this.props.onPageChange&&this.props.onPageChange.call(void 0,c)},this.changePage=(a,t)=>{this.props.onPageChange&&a>0&&a<=this.totalPages&&this.props.onPageChange({target:this,skip:(a-1)*this.props.take,take:this.props.take,syntheticEvent:t,nativeEvent:t.nativeEvent,targetEvent:t})},this.onWindowResize=()=>{const a=this.element;if(!a||!this.props.responsive)return;const t=a.offsetWidth;t<q?this.setState({showPagerSizes:!1}):t>=q&&t<H?this.setState({showPagerInfo:!1,showPagerSizes:!0}):this.setState({showPagerInfo:!0,showPagerSizes:!0})},P.validatePackage(U.packageMetadata),this.state={showPagerSizes:!0,showPagerInfo:!0}}get isRtl(){return this.props.dir==="rtl"}get element(){return this._element}componentDidMount(){window.addEventListener("resize",this.onWindowResize),this.onWindowResize()}componentWillUnmount(){window.removeEventListener("resize",this.onWindowResize)}render(){const{showPagerSizes:n,showPagerInfo:a}=this.state,{skip:t,take:c,total:h,pageSizes:m,size:g,responsive:y,messagesMap:s,pageSizeValue:B}=this.props,o=M.provideLocalizationService(this),S=M.provideIntlService(this),i=Math.floor(t/c)+1,x=this.props.type==="numeric"?p.createElement(D.PagerNumericButtons,{type:y&&!n?"dropdown":"numbers",buttonCount:this.props.buttonCount||0,totalPages:this.totalPages,currentPage:i,pageChange:this.changePage,messagesMap:this.props.messagesMap,size:g}):p.createElement(F.PagerInput,{buttonCount:this.props.buttonCount||0,totalPages:this.totalPages,currentPage:i,pageChange:this.changePage,messagesMap:s,size:g}),k=s?s(e.pagerFirstPage):{messageKey:e.pagerFirstPage,defaultMessage:e.messages[e.pagerFirstPage]},b=s?s(e.pagerPreviousPage):{messageKey:e.pagerPreviousPage,defaultMessage:e.messages[e.pagerPreviousPage]},R=s?s(e.pagerNextPage):{messageKey:e.pagerNextPage,defaultMessage:e.messages[e.pagerNextPage]},z=s?s(e.pagerLastPage):{messageKey:e.pagerLastPage,defaultMessage:e.messages[e.pagerLastPage]},I=s?s(e.pagerInfo):{messageKey:e.pagerInfo,defaultMessage:e.messages[e.pagerInfo]},K=s?s(e.pagerAriaKeyshortcuts):{messageKey:e.pagerAriaKeyshortcuts,defaultMessage:e.messages[e.pagerAriaKeyshortcuts]},E=s?s(e.pagerPage):{messageKey:e.pagerPage,defaultMessage:e.messages[e.pagerPage]},L=s?s(e.pagerOf):{messageKey:e.pagerOf,defaultMessage:e.messages[e.pagerOf]},f=s?s(e.pagerTotalPages):{messageKey:e.pagerTotalPages,defaultMessage:e.messages[e.pagerTotalPages]},_=`${o.toLanguageString(E.messageKey,E.defaultMessage)} ${S.format(o.toLanguageString(f.messageKey,f.defaultMessage),[i])} ${o.toLanguageString(L.messageKey,L.defaultMessage)} ${S.format(o.toLanguageString(f.messageKey,f.defaultMessage),[this.totalPages])}`;let w,C,N,O;this.props.previousNext&&(w=this.renderButton(1,"k-pager-nav k-pager-first"+(i===1?" k-disabled":""),o.toLanguageString(k.messageKey,k.defaultMessage),this.isRtl?"caret-alt-to-right":"caret-alt-to-left",this.isRtl?l.caretAltToRightIcon:l.caretAltToLeftIcon,i===1?!0:void 0),C=this.renderButton(i-1,"k-pager-nav"+(i===1?" k-disabled":""),o.toLanguageString(b.messageKey,b.defaultMessage),this.isRtl?"caret-alt-right":"caret-alt-left",this.isRtl?l.caretAltRightIcon:l.caretAltLeftIcon,i===1?!0:void 0),N=this.renderButton(i+1,"k-pager-nav"+(i>=this.totalPages?" k-disabled":""),o.toLanguageString(R.messageKey,R.defaultMessage),this.isRtl?"caret-alt-left":"caret-alt-right",this.isRtl?l.caretAltLeftIcon:l.caretAltRightIcon,i>=this.totalPages?!0:void 0),O=this.renderButton(this.totalPages,"k-pager-nav k-pager-last"+(i>=this.totalPages?" k-disabled":""),o.toLanguageString(z.messageKey,z.defaultMessage),this.isRtl?"caret-alt-to-left":"caret-alt-to-right",this.isRtl?l.caretAltToLeftIcon:l.caretAltToRightIcon,i>=this.totalPages?!0:void 0));const A=m&&p.createElement($.PagerPageSizes,{pageChange:this.onPageChange,pageSize:c,pageSizes:m,value:B,messagesMap:s,size:g}),T=this.props.info&&p.createElement("span",{className:"k-pager-info"},S.format(o.toLanguageString(I.messageKey,I.defaultMessage),[Math.min(t+1,h),Math.min(t+c,h),h]));return p.createElement("div",{className:P.classNames("k-pager",{[`k-pager-${P.kendoThemeMaps.sizeMap[g]||g}`]:g},this.props.className),style:this.props.style,role:"application","aria-roledescription":"pager",dir:this.props.dir,"aria-keyshortcuts":o.toLanguageString(K.messageKey,K.defaultMessage),"aria-label":_,ref:j=>this._element=j},p.createElement("div",{className:P.classNames("k-pager-numbers-wrap")},w,C,x,N,O),y?n&&A:A,y?a&&T:T)}renderButton(n,a,t,c,h,m){return p.createElement(V.Button,{fillMode:"flat",themeColor:"base",size:this.props.size,rounded:null,className:a,icon:c,svgIcon:h,title:t,role:"button","aria-disabled":m,onClick:g=>{g.preventDefault(),this.changePage(n,g)}})}get totalPages(){return Math.ceil((this.props.total||0)/this.props.take)}};v.propTypes={className:r.string,style:r.object,total:r.number.isRequired,skip:r.number.isRequired,take:r.number.isRequired,buttonCount:r.number,info:r.bool,type:r.oneOf(["numeric","input"]),pageSizes:r.arrayOf(r.oneOfType([r.string,r.number])),previousNext:r.bool,onPageChange:r.func,messagesMap:r.func,size:r.oneOf([null,"small","medium","large"]),dir:r.string},v.defaultProps={buttonCount:10,info:!0,type:"numeric",size:"medium"};let d=v;M.registerForIntl(d);M.registerForLocalization(d);exports.Pager=d;
