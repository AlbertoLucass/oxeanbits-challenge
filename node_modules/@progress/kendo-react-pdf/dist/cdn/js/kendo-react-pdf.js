/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright Â© 2024 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("prop-types"),require("@progress/kendo-drawing"),require("@progress/kendo-file-saver"),require("react-dom/server"),require("@progress/kendo-react-common"),require("react-dom"),require("react-dom/client")):"function"==typeof define&&define.amd?define(["exports","react","prop-types","@progress/kendo-drawing","@progress/kendo-file-saver","react-dom/server","@progress/kendo-react-common","react-dom","react-dom/client"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).KendoReactPdf={},e.React,e.PropTypes,e.KendoDrawing,e.KendoFileSaver,e.ReactDOMServer,e.KendoReactCommon,e.ReactDOM,e.ReactDOMClient)}(this,(function(e,t,r,o,n,s,i,a,p){"use strict";function l(e){var t=Object.create(null);return e&&Object.keys(e).forEach((function(r){if("default"!==r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}})),t.default=e,Object.freeze(t)}var c=l(t),d=l(s),u=l(a),g=l(p);const h=class extends c.Component{render(){return null}};h.propTypes={left:r.oneOfType([r.number,r.string]),top:r.oneOfType([r.number,r.string]),right:r.oneOfType([r.number,r.string]),bottom:r.oneOfType([r.number,r.string])};let m=h;const f=["bottom","left","right","top"];function y(e){const t=c.Children.toArray(e.children).find((e=>e&&e.type===m));return t?function(e){const t={};for(let r=0;r<f.length;r++){const o=f[r],n=e.props[o];void 0!==n&&(t[o]=n)}return t}(t):e.margin}let b=class{constructor(e,t,r,o,n={}){this.drawDOM=e,this.exportPDF=t,this.saveAs=r,this.domElement=o,this.options=n,this.convertPageTemplateToHtml=e=>`<span>${d.renderToStaticMarkup(c.createElement(this.options.pageTemplate,{pageNum:e.pageNum,totalPages:e.totalPages}))}</span>`}savePDF(e){const t=this.drawDOM(this.domElement,this.getDrawOptions()).then((e=>this.exportPDF(e,this.getPDFOptions()))).then((e=>this.saveAs(e,this.options.fileName||"export.pdf",this.getSaveOptions())));e&&t.then(e,e)}getDrawOptions(){return{avoidLinks:this.options.avoidLinks,forcePageBreak:this.options.forcePageBreak,keepTogether:this.options.keepTogether,margin:this.options.margin,paperSize:this.options.paperSize,landscape:this.options.landscape,repeatHeaders:this.options.repeatHeaders,scale:this.options.scale,template:this.options.pageTemplate&&this.convertPageTemplateToHtml}}getPDFOptions(){return{author:this.options.author,creator:this.options.creator||"KendoReact PDF Generator",date:this.options.date,imgDPI:this.options.imageResolution,keywords:this.options.keywords,landscape:this.options.landscape,margin:this.options.margin,multiPage:!0,paperSize:this.options.paperSize,producer:this.options.producer,subject:this.options.subject,title:this.options.title}}getSaveOptions(){return{forceProxy:this.options.forceProxy,proxyData:this.options.proxyData,proxyTarget:this.options.proxyTarget,proxyURL:this.options.proxyURL}}};const T={name:"@progress/kendo-react-pdf",productName:"KendoReact",productCodes:["KENDOUIREACT","KENDOUICOMPLETE"],publishDate:0,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-react-ui/components/my-license/"},O=class extends c.Component{constructor(e){super(e),this.rootElForPDF=null,i.validatePackage(T)}render(){return c.createElement("div",{ref:e=>{this.rootElForPDF=e}},this.props.children)}save(e){new b(o.drawDOM,o.exportPDF,n.saveAs,this.rootElForPDF,this.getOptions()).savePDF(e)}getOptions(){return Object.assign({},this.props,{margin:y(this.props)})}};O.propTypes={author:r.string,avoidLinks:r.oneOfType([r.bool,r.string]),forcePageBreak:r.string,keepTogether:r.string,creator:r.string,date:r.instanceOf(Date),imageResolution:r.number,fileName:r.string,forceProxy:r.bool,keywords:r.string,landscape:r.bool,margin:r.oneOfType([r.string,r.number,r.shape({left:r.oneOfType([r.number,r.string]),top:r.oneOfType([r.number,r.string]),right:r.oneOfType([r.number,r.string]),bottom:r.oneOfType([r.number,r.string])})]),pageTemplate:r.any,paperSize:r.any,repeatHeaders:r.bool,scale:r.number,proxyData:r.any,proxyURL:r.string,proxyTarget:r.string,producer:r.string,subject:r.string,title:r.string};let v=O;function k(e,t={},r){new b(o.drawDOM,o.exportPDF,n.saveAs,e,t).savePDF(r)}const D={},P=e=>String(e).trim().split(" "),x=e=>t=>((e,t)=>{const r=P(t);return!!P(e.className).find((e=>r.indexOf(e)>=0))})(t,e),C=e=>(D[e]||(D[e]=t=>String(t.nodeName).toLowerCase()===e.toLowerCase()),D[e]),w=(e,t,r=!0)=>{if(e){if(r&&t(e))return e;for(e=e.firstChild;e;){if(1===e.nodeType){const r=w(e,t);if(r)return r}e=e.nextSibling}}},N="k-grid-header",E="k-grid-footer",F=C("TABLE"),S=e=>e?"locked":"wrap";class R{constructor(e){this.element=e,this.list=w(e,x("k-grid-container"))}content(e){return w(this.list,x("k-grid-content"+(e?"-locked":"")))}header(e){return this.headerWrap=this.headerWrap||w(this.element,x(N)),w(this.headerWrap,x(`${N}-${S(e)}`))}footer(e){return this.footerWrap=this.footerWrap||w(this.element,x(E)),w(this.footerWrap,x(`${E}-${S(e)}`))}table(){return w(this.element,F)}}const L="k-first",j=(e,t)=>{const r=t.length;for(let o=0;o<r;o++)e.appendChild(t[o].cloneNode(!0))},A=e=>{const t=document.createElement("div");return t.className="k-grid k-grid-md",t.appendChild(e),t},q=e=>{const t=e.length,r=e[0].cloneNode(!0),o=r.rows.length;if(t>1)for(let n=0;n<o;n++)for(let o=1;o<t;o++)j(r.rows[n],e[o].rows[n].cells);return r},K=(e,t,r,o)=>{const n=document.createElement("table"),s=e[0].cloneNode(!0);for(let t=1;t<e.length;t++)j(s,e[t].querySelectorAll("col"));const i=q(t),a=q(r);if(i.className="k-grid-header",((e,t)=>{if(t.length>1&&e.rows.length>1)for(let r=1;r<e.rows.length;r++){const o=t[0].rows[r].cells.length,n=e.rows[r].cells[o];-1===String(n.className).indexOf(L)&&(n.className+=` ${L}`)}})(i,t),n.appendChild(s),n.appendChild(i),n.appendChild(a),o.length){const e=q(o);e.className="k-grid-footer",n.appendChild(e)}return A(n)},M=e=>{const t=new R(e),r=t.content();let o;if(r){const e=[r.querySelector("colgroup")],n=[t.header().querySelector("thead")],s=[r.querySelector("tbody")],i=t.footer(),a=i?[i.querySelector("tfoot")]:[];o=K(e,n,s,a)}else o=A(t.table().cloneNode(!0));return o};function W(e){return(t,r={},o,n,s)=>function(e,t,r={},o,n,s){let i,a,p;function l(){i=document.createElement("div"),i.setAttribute("style","position:absolute; left: -5000px; top: 0px;"),a=document.createElement("div"),i.appendChild(a),document.body.appendChild(i),Number(c.version.slice(0,2))>=18?(g.createRoot(a).render(f()),setTimeout((()=>{d()}),0)):u.render(f(),a,d)}function d(){e(m(),r,h)}function h(){document.body.removeChild(i),document.body.removeChild(p),i=p=void 0,o&&o()}function m(){p=document.createElement("div"),p.className="k-grid-pdf-export-element";const e=M(a);return p.appendChild(e),document.body.appendChild(p),e}function f(){const e=n&&{data:n,total:n.length,pageSize:n.length,skip:0},r={style:Object.assign({},t.props.style,{width:"1000px"})},o=Object.assign({},e,r);if(s&&s.length>0){const e=function(e){return c.Children.toArray(e.props.children).filter((e=>e&&e.type&&"KendoReactGridColumn"!==e.type.displayName))}(t);return c.cloneElement(t,o,s.concat(e))}return c.cloneElement(t,o)}l()}(e,t,r,o,n,s)}const z=class extends c.Component{constructor(e){super(e),this.saveGridPDF=W(this.getSavePDF())}render(){return null}save(e,t){this.saveGridPDF(this.getGrid(),Object.assign({},this.props,{margin:y(this.props)}),t,e,this.getCustomColumns())}getSavePDF(){return k}getGrid(){return c.Children.toArray(this.props.children).find((e=>e&&"KendoReactGrid"===e.type.displayName))}getCustomColumns(){return c.Children.toArray(this.props.children).filter((e=>e&&"KendoReactGridColumn"===e.type.displayName))}};z.propTypes={author:r.string,avoidLinks:r.oneOfType([r.bool,r.string]),forcePageBreak:r.string,keepTogether:r.string,creator:r.string,date:r.instanceOf(Date),imageResolution:r.number,fileName:r.string,forceProxy:r.bool,keywords:r.string,landscape:r.bool,margin:r.oneOfType([r.string,r.number,r.shape({left:r.oneOfType([r.number,r.string]),top:r.oneOfType([r.number,r.string]),right:r.oneOfType([r.number,r.string]),bottom:r.oneOfType([r.number,r.string])})]),pageTemplate:r.any,paperSize:r.any,repeatHeaders:r.bool,scale:r.number,proxyData:r.any,proxyURL:r.string,proxyTarget:r.string,producer:r.string,subject:r.string,title:r.string};let G=z;const U="k-grid-header",$="k-grid-footer",B=C("TABLE");class H{constructor(e){this.element=e,this.list=w(e,x("k-grid"))}content(){return w(this.list,x("k-grid"))}header(){return this.headerWrap=this.headerWrap||w(this.element,x(U)),w(this.headerWrap,x(`${U}`))}footer(){return this.footerWrap=this.footerWrap||w(this.element,x($)),w(this.footerWrap,x(`${$}`))}table(){return w(this.element,B)}}const I=e=>{const t=new H(e),r=t.content();let o,n=t.header();if(n.childNodes.length>1&&n.removeChild(n.childNodes[1]),n.childNodes[0].childNodes.forEach((e=>e.style.top=0)),r){const e=[r.querySelector("colgroup")],s=[n],i=[r.querySelector("tbody")],a=t.footer(),p=a?[a.querySelector("tfoot")]:[];o=K(e,s,i,p)}else o=A(t.table().cloneNode(!0));return o};function V(e){return(t,r={},o,n,s)=>function(e,t,r={},o,n,s){let i,a,p;function l(){i=document.createElement("div"),i.setAttribute("style","position:absolute; left: -5000px; top: 0px;"),a=document.createElement("div"),i.appendChild(a),document.body.appendChild(i),Number(c.version.slice(0,2))>=18?(g.createRoot(a).render(f()),setTimeout((()=>{d()}),0)):u.render(f(),a,d)}function d(){e(m(),r,h)}function h(){document.body.removeChild(i),document.body.removeChild(p),i=p=void 0,o&&o()}function m(){p=document.createElement("div"),p.className="k-treelist-pdf-export-element";const e=I(a);return p.appendChild(e),document.body.appendChild(p),p}function f(){const e=r.allPages&&n?{data:n,take:Number.MAX_VALUE,skip:0}:{},o={style:Object.assign({},t.props.style,{width:"1000px"})},i=Object.assign({},e,o);return s&&s.length>0?c.cloneElement(t,Object.assign({},i,{columns:s})):c.cloneElement(t,i)}l()}(e,t,r,o,n,s)}const X=class extends c.Component{constructor(e){super(e),this.saveTreeListPDF=V(this.getSavePDF())}render(){return null}save(e,t,r){this.saveTreeListPDF(this.getTreeList(),Object.assign({},this.props,{margin:y(this.props)}),r,e,t||[])}getSavePDF(){return k}getTreeList(){const e=this.props.children;if(e&&e.props.data&&e.props.columns)return this.props.children}};X.propTypes={author:r.string,avoidLinks:r.oneOfType([r.bool,r.string]),forcePageBreak:r.string,keepTogether:r.string,creator:r.string,date:r.instanceOf(Date),imageResolution:r.number,fileName:r.string,forceProxy:r.bool,keywords:r.string,landscape:r.bool,margin:r.oneOfType([r.string,r.number,r.shape({left:r.oneOfType([r.number,r.string]),top:r.oneOfType([r.number,r.string]),right:r.oneOfType([r.number,r.string]),bottom:r.oneOfType([r.number,r.string])})]),pageTemplate:r.any,paperSize:r.any,repeatHeaders:r.bool,scale:r.number,proxyData:r.any,proxyURL:r.string,proxyTarget:r.string,producer:r.string,subject:r.string,title:r.string,allPages:r.bool};let _=X;e.GridPDFExport=G,e.KendoDrawingAdapter=b,e.PDFExport=v,e.PDFMargin=m,e.TreeListPDFExport=_,e.getPageMargin=y,e.savePDF=k}));
