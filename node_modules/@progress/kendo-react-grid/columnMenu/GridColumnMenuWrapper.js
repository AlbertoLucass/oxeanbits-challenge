/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright Â© 2024 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */
"use client";"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const h=require("react"),m=require("@progress/kendo-react-popup"),u=require("@progress/kendo-react-common"),p=require("@progress/kendo-svg-icons"),c=require("../messages/index.js"),d=require("@progress/kendo-react-intl");function f(s){const e=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(s){for(const t in s)if(t!=="default"){const o=Object.getOwnPropertyDescriptor(s,t);Object.defineProperty(e,t,o.get?o:{enumerable:!0,get:()=>s[t]})}}return e.default=s,Object.freeze(e)}const n=f(h);class g extends n.Component{constructor(){super(...arguments),this.state={show:!1},this._anchor=null,this._content=null,this.blurTimeout=void 0,this.willBlur=!1,this.blur=()=>{if(this.willBlur){this.willBlur=!1;return}clearTimeout(this.blurTimeout),this.blurTimeout=window.setTimeout(()=>{this.closeMenu()})},this.focus=()=>{clearTimeout(this.blurTimeout)},this.anchorClick=e=>{e.preventDefault(),this.state.show&&this.props.onCloseMenu&&this.props.onCloseMenu(),this.setState({show:!this.state.show},()=>this.state.show&&this._content&&this._content.focus())},this.closeMenu=()=>{this.props.onCloseMenu&&this.props.onCloseMenu(),this.setState({show:!1})},this.onAnchorMouseDown=e=>{this.willBlur=this.state.show&&e.currentTarget===this._anchor},this.onAnchorKeyDown=e=>{var t;if(e.keyCode===u.Keys.tab){const o=e.target,r=o&&((t=o.closest(".k-grid"))==null?void 0:t.getElementsByClassName("k-grid-content")[0]);r&&r.scrollWidth>r.clientWidth&&o.scrollIntoView({inline:"center"})}}}render(){const{columnMenu:e,...t}=this.props,{column:o}=this.props,r=d.provideLocalizationService(this),i=o.title||o.field,a=i?`${i} `:"";return n.createElement(n.Fragment,null,n.createElement("a",{className:"k-grid-header-menu k-grid-column-menu",ref:l=>this._anchor=l,onClick:this.anchorClick,onMouseDown:this.onAnchorMouseDown,onKeyDown:this.onAnchorKeyDown,href:"#","aria-label":`${a}${r.toLanguageString(c.columnMenu,c.messages[c.columnMenu])}`},n.createElement(u.IconWrap,{name:"filter",icon:p.filterIcon})),n.createElement(m.Popup,{anchor:this._anchor,show:this.state.show,popupClass:"k-column-menu k-column-menu-popup k-grid-columnmenu-popup"},n.createElement("div",{ref:l=>this._content=l,tabIndex:0,onBlur:this.blur,onFocus:this.focus,style:{outline:"none"}},e&&n.createElement(e,{...t,onCloseMenu:this.closeMenu}))))}}exports.GridColumnMenuWrapper=g;
