/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright Â© 2024 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */
"use client";"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const F=11111111111111e-7,be=.31111111111111117,Le=1,w=1,ee=0,V=/\d/,ne=15,he=()=>({eventValue:null,prevLooseValue:"",currentLooseValue:"",focused:!1,selectionStart:void 0,selectionEnd:void 0,decimalSelect:!1,valueIsCorrected:!1,valueIsOutOfRange:!1}),Ie=(t,n)=>t!==void 0?t:n,m=(t,n,r)=>t===null&&t===void 0?"":typeof t=="string"?t:r.formatNumber(t,n),B=t=>(String(t).split(".")[1]||"").length,te=(t,n)=>Math.max(B(t),B(n)),re=t=>Math.min(t,ne),G=(t,n)=>{const r=re(n);return parseFloat(t.toFixed(r))},Ne=(t,n,r,e,u,s,a)=>{const o=te(t||0,r||0),l=U(G((t||0)+(r||0),o),e,u);n.eventValue=l,n.currentLooseValue=m(l,s,a),n.selectionStart=n.selectionEnd=N(n.currentLooseValue,V)},Pe=(t,n,r,e,u,s,a)=>{const o=te(t||0,r||0),l=U(G((t||0)-(r||0),o),e,u);n.eventValue=l,n.currentLooseValue=m(l,s,a),n.selectionStart=n.selectionEnd=N(n.currentLooseValue,V)},U=(t,n,r)=>t==null?t:!(t>1||t<1||t===1)||r!==void 0&&n!==void 0&&r<n?null:(r!==void 0&&t>r&&(t=r),n!==void 0&&t<n&&(t=n),t),oe=(t,n)=>{const r=n.findIndex(([u,s])=>!!s&&t.indexOf(s)===t.length-s.length);if(r===-1)return-1;const e=n[r][1];return t.length-e.length},se=(t,n)=>{const r=n.findIndex(([u,s])=>!!u&&t.indexOf(u)===0);return r===-1?-1:n[r][0].length},ue=(t,n,r)=>{const e=oe(t,n);if(e!==-1&&r.selectionStart>e){r.selectionStart=r.selectionEnd=e;return}r.selectionStart>t.length&&(r.selectionStart=r.selectionEnd=t.length);const u=se(t,n);u!==-1&&r.selectionStart<u&&(r.selectionStart=r.selectionEnd=u),r.selectionStart===-1&&(r.selectionStart=r.selectionEnd=0)},p=(t,n,r,e)=>{t.selectionStart=t.selectionEnd=n,ue(r,e,t)},v=(t,n,r,e)=>{t.eventValue=e.parseNumber(t.prevLooseValue,n),t.currentLooseValue=t.prevLooseValue,t.valueIsCorrected=!0,p(t,t.selectionStart,t.currentLooseValue,r)},ie=(t,n)=>{const r=String(t.currentLooseValue),e=String(t.prevLooseValue);return r.split(n.minusSign).length!==e.split(n.minusSign).length&&r.length===e.length+n.minusSign.length},le=(t,n)=>{const r=String(t.currentLooseValue),e=String(t.prevLooseValue);return r.indexOf(n.minusSign)===-1&&e.indexOf(n.minusSign)!==-1},ce=(t,n)=>String(t.currentLooseValue).split(n.decimal).length>2,ae=(t,n)=>{const r=n.formatNumber(F,t),e=n.formatNumber(-F,t),u=n.formatNumber(ee,t),s=n.formatNumber(w,t),a=D(r),o=D(e),l=D(u),c=D(s),P=R(r),E=R(e),b=R(u),L=R(s);return{positiveInfo:[a,P],negativeInfo:[o,E],zeroInfo:[l,b],oneInfo:[c,L]}},de=(t,n)=>{const r=n.formatNumber(F,t),e=n.formatNumber(-F,t),u=n.formatNumber(ee,t),s=n.formatNumber(w,t),a=n.numberSymbols(),o=new RegExp(`[\\d\\${a.decimal}${a.group}]`,"g");return[r,e,u,s].map(c=>c.replace(o,"")).join("").split("").filter((c,P,E)=>E.indexOf(c)===P).join("")},y=(t,n)=>{const r=t.indexOf(n.decimal);return r>-1?r:N(t,V)},S=t=>t.split("").reverse().join(""),N=(t,n)=>t.length-S(t).search(n),D=t=>t.split(t[t.search(V)])[0],R=t=>{const n=S(t);return S(n.split(n[n.search(V)])[0])},C=(t,n)=>t.search(n),$=(t,n)=>{const r=t.indexOf(n);return r>-1?t.length-r-1:0},j=(t,n,r,e,u)=>{const s=t.replace(u,"")[0]==="0",a=n.replace(u,"")[0]==="0";if(s&&!a)return r-1;if(a&&e)return r+1;let o=0;for(let c=0;c<r;c++)V.test(t.charAt(c))&&o++;let l=0;for(;o>0&&n.length>l;)V.test(n.charAt(l))&&o--,l++;return l},Ee=(t,n,r)=>{const e={...t},{prevLooseValue:u}=e,s=r.numberSymbols(),a=de(n,r),o=String(e.currentLooseValue),l=String(u),c=new RegExp(`[^\\d\\${s.decimal}]`,"g"),P=new RegExp(`[^\\d\\${s.decimal}\\${s.group}]`,"g"),E=new RegExp(`[\\d\\${s.decimal}\\${s.group}]`),b=o.replace(c,""),L=C(o,V),O=L===-1?-1:N(o,V),ge=o.indexOf(s.decimal),X=(o.substring(0,L)+o.substring(L,O).replace(P,"")+o.substring(O,o.length)).split("").filter(x=>a.indexOf(x)!==-1||x.search(E)!==-1).join(""),Z=r.formatNumber(be,n).replace(c,""),W=Z.indexOf(s.decimal),I=W>-1?Z.length-W-1:0,k=r.formatNumber(Le,n).replace(c,""),q=k.indexOf(s.decimal),M=q>-1?k.length-q-1:0,{positiveInfo:fe,negativeInfo:me,zeroInfo:Ve,oneInfo:xe}=ae(n,r),g=[fe,me,Ve,xe],pe=g.findIndex(x=>x.findIndex(h=>!!h)!==-1)!==1,z=o.length>0&&o.length<l.length,H=typeof n=="string"&&n[0]==="p"&&o&&o.indexOf(s.percentSign)===-1;if(!e.isPaste){if(o==="")return e.eventValue=null,e.currentLooseValue="",e;if(e.currentLooseValue===s.minusSign&&r.formatNumber(-0,n)!==l)return e.eventValue=-0,e.currentLooseValue=m(e.eventValue,n,r),p(e,y(e.currentLooseValue,s),e.currentLooseValue,g),e;if(e.currentLooseValue===s.decimal){e.eventValue=0;const f=m(e.eventValue,n,r);if(M===0&&I>0){const i=N(f,V);e.currentLooseValue=f.substring(0,i)+s.decimal+f.substring(i)}else e.currentLooseValue=f;return p(e,y(e.currentLooseValue,s)+1,e.currentLooseValue,g),e}if(ie(e,s)){const f=r.parseNumber(u,n);e.eventValue=-(f!==null?f:0),e.currentLooseValue=m(e.eventValue,n,r);const i=C(e.currentLooseValue,V),d=C(l,V);return p(e,e.selectionEnd-1+(i-d),e.currentLooseValue,g),e}if(le(e,s))return e.eventValue=r.parseNumber(e.currentLooseValue,n),p(e,e.selectionStart,e.currentLooseValue,g),e;if(ce(e,s))return v(e,n,g,r),e;if(H)return e.eventValue=r.parseNumber(o,n)/100,e.currentLooseValue=m(e.eventValue,n,r),e;if(String(e.currentLooseValue).replace(/[^\d]/g,"").length>ne||b!==o&&o&&pe&&g.findIndex(([i,d])=>{const T=o.indexOf(i),_=o.indexOf(d),J=T===0,K=_===o.length-d.length,Q=T+i.length!==L&&L!==-1&&o[T+i.length]!==s.decimal,Y=_!==O&&O!==-1&&o[_-1]!==s.decimal;return i&&d?Q||Y?!1:J&&K:i?Q?!1:J:d?Y?!1:K:!1})===-1)return v(e,n,g,r),e;if(b[b.length-1]===s.decimal&&I>0)return e.eventValue=r.parseNumber(o,n),e.currentLooseValue=X,e;if(e.currentLooseValue&&u&&(a+s.decimal+s.group).split("").findIndex(i=>o.split("").filter(d=>d===i).length<l.split("").filter(d=>d===i).length&&o.length+1===l.length?!(i===s.decimal&&$(l.replace(c,""),s.decimal)===0):!1)>-1)return e.eventValue=r.parseNumber(t.prevLooseValue,n),e.currentLooseValue=t.prevLooseValue,e;const h=$(b,s.decimal),A=b[b.length-1]==="0";if(z&&A&&h<M)return e.eventValue=r.parseNumber(e.currentLooseValue,n),e.currentLooseValue=m(e.eventValue,n,r),e;if(h>0){const f=o.substring(0,ge);if(A&&(!f||l.indexOf(f)!==0)){e.eventValue=r.parseNumber(e.currentLooseValue,n);const i=m(e.eventValue,n,r);return p(e,j(o,i,e.selectionEnd,z,c),i,g),e.currentLooseValue=i,e}if(h>I){const i=o.indexOf(s.decimal),d=o.substring(0,i)+o.substring(i,i+1+I)+o.substring(O,String(e.currentLooseValue).length);return e.eventValue=r.parseNumber(d,n),e.currentLooseValue=d,p(e,e.selectionStart,d,g),e}if(M!==I&&h<=I&&A)return e.eventValue=r.parseNumber(e.currentLooseValue,n),e.currentLooseValue=X,e;if(h<M)return e.eventValue=r.parseNumber(e.currentLooseValue,n),e.currentLooseValue=m(e.eventValue,n,r),e}}if(e.eventValue=r.parseNumber(e.currentLooseValue,n),H&&(e.eventValue=e.eventValue/100),typeof e.eventValue=="number"){const x=m(e.eventValue,n,r);o.length===1?p(e,y(x,s),x,g):p(e,j(o,x,e.selectionEnd,z,c),x,g),e.currentLooseValue=x}else e.currentLooseValue=m(r.parseNumber(b),n,r);return e};exports.changeBasedSelection=j;exports.decreaseValue=Pe;exports.formatValue=m;exports.fractionLength=B;exports.getDecimalCount=$;exports.getFirstNumberIndex=C;exports.getFormatPrefixSufix=ae;exports.getFormatSymbols=de;exports.getInitialPosition=y;exports.getInitialState=he;exports.getLastNumberIndex=N;exports.getMaxCursorPosition=oe;exports.getMinCursorPosition=se;exports.getPrefix=D;exports.getStateOrPropsValue=Ie;exports.getSuffix=R;exports.increaseValue=Ne;exports.isDecimalDuplicated=ce;exports.isMinusSymbolAdded=ie;exports.isMinusSymbolRemoved=le;exports.limitPrecision=re;exports.rangeSelection=ue;exports.rangeValue=U;exports.reverseString=S;exports.sanitizeNumber=Ee;exports.setInvalid=v;exports.setSelection=p;exports.toFixedPrecision=G;
